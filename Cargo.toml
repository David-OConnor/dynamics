[package]
name = "dynamics"
version = "0.1.0"
edition = "2024"
authors = ["David O'Connor <the_alchemist@fastmail.com>"]
description = "Molecular dynamics"
keywords = ["molecular dynamics", "biology"]
categories = [
    "science",
    "science::bioinformatics",
    "science::bioinformatics::genomics",
    "science::bioinformatics::proteomics",
    "science::bioinformatics::sequence-analysis",
]
repository = "https://github.com/David-OConnor/dynamics"
documentation = "https://docs.rs/dynamics"
readme = "README.md"
license = "MIT"
exclude = [".gitignore"]

[dependencies]
lin_alg = "1.3.6"
na_seq = "0.3.1"
#bio_files = "0.2.8"
bio_files = { path = "../bio_files" }
ewald = { version = "0.1.1" }

rand = "0.9.2"
rand_distr  = "0.5.1"

itertools = "0.14.0" # For combinations when matching angles in MD.

rayon = "1.10.0"  # Parallel execution on CPU using thread pools.

[target.'cfg(not(target_os = "windows"))'.dependencies]
cudarc = { version = "0.17.2", default-features = false, features = ["std", "driver", "dynamic-linking", "cuda-13000"], optional=true }
[target.'cfg(target_os = "windows")'.dependencies]
cudarc = { version = "0.17.2", default-features = false, features = ["std", "driver", "dynamic-loading", "cuda-13000"], optional=true }

[patch.crates-io]
ewald = { path = "../ewald" }
bio_files = { path = "../bio_files" }


[features]
#cuda = ["cuda_setup", "cudarc", "lin_alg/cuda", "ewald/cuda"]
cuda = ["cudarc", "lin_alg/cuda", "ewald/cuda"]